<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lucs Store | UA</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        :root { --black: #1a1a1a; --gray: #f8f8f8; --dark-gray: #666; }
        body { font-family: 'Inter', sans-serif; margin: 0; background: #fff; color: var(--black); line-height: 1.5; }
        
        /* HEADER */
        header { 
            display: flex; justify-content: space-between; align-items: center; 
            padding: 15px 5%; border-bottom: 1px solid #eee; 
            position: sticky; top: 0; background: rgba(255,255,255,0.95); z-index: 1000; backdrop-filter: blur(5px);
        }
        .logo { font-size: 22px; font-weight: 700; letter-spacing: 3px; cursor: pointer; text-transform: uppercase; }
        
        .search-input { 
            flex-grow: 1; max-width: 350px; margin: 0 20px; padding: 10px 20px; 
            border: 1px solid #ddd; border-radius: 25px; outline: none; font-size: 14px;
        }

        .nav-right { display: flex; align-items: center; gap: 20px; }
        .cart-icon { position: relative; cursor: pointer; font-size: 22px; }
        .cart-count { 
            position: absolute; top: -8px; right: -12px; background: var(--black); 
            color: white; font-size: 10px; padding: 2px 6px; border-radius: 50%; font-weight: 700;
        }

        /* FILTERS */
        .filters-bar { 
            display: flex; justify-content: center; align-items: center; gap: 30px; 
            padding: 15px 5%; background: var(--gray); font-size: 14px;
        }
        input[type="range"] { cursor: pointer; width: 150px; }

        /* HERO */
        .hero-section { display: grid; grid-template-columns: 1fr 1fr; gap: 5px; height: 60vh; }
        .hero-card { position: relative; overflow: hidden; cursor: pointer; }
        .hero-card img { width: 100%; height: 100%; object-fit: cover; transition: 1s; }
        .hero-card:hover img { transform: scale(1.05); }
        .hero-label { position: absolute; bottom: 40px; left: 40px; color: white; }
        .hero-label h2 { font-size: 36px; margin: 0; text-transform: uppercase; text-shadow: 0 2px 10px rgba(0,0,0,0.3); }

        /* PRODUCT GRID */
        .container { padding: 40px 5%; }
        .shop-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 40px; }
        
        .product-card { border-radius: 12px; transition: 0.3s; display: flex; flex-direction: column; }
        .img-box { background: var(--gray); aspect-ratio: 3/4; overflow: hidden; border-radius: 8px; margin-bottom: 15px; }
        .img-box img { width: 100%; height: 100%; object-fit: cover; }
        
        .p-cat { font-size: 11px; color: var(--dark-gray); text-transform: uppercase; letter-spacing: 1px; margin-bottom: 5px; }
        .p-title { font-size: 18px; margin: 0 0 10px; font-weight: 600; }
        .p-desc { font-size: 13px; color: var(--dark-gray); margin-bottom: 10px; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
        .p-sizes { font-size: 12px; background: #eee; padding: 2px 8px; border-radius: 4px; display: inline-block; margin-bottom: 10px; width: fit-content; }
        .p-price { font-weight: 700; font-size: 20px; margin-bottom: 15px; }
        
        .btn-add { 
            margin-top: auto; width: 100%; background: var(--black); color: white; border: none; 
            padding: 14px; border-radius: 8px; cursor: pointer; font-weight: 600; 
            text-transform: uppercase; font-size: 12px; transition: 0.2s;
        }
        .btn-add:hover { opacity: 0.8; transform: translateY(-2px); }

        /* CART DRAWER */
        #cart-drawer { 
            position: fixed; right: -450px; top: 0; width: 100%; max-width: 400px; height: 100%; 
            background: white; box-shadow: -10px 0 30px rgba(0,0,0,0.1); 
            z-index: 2000; transition: 0.5s cubic-bezier(0.4, 0, 0.2, 1); padding: 40px 30px; box-sizing: border-box;
            display: flex; flex-direction: column;
        }
        #cart-drawer.active { right: 0; }
        .cart-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid var(--gray); padding-bottom: 20px; }
        #cart-items { flex-grow: 1; overflow-y: auto; margin: 20px 0; }
        .cart-item { display: flex; justify-content: space-between; margin-bottom: 15px; font-size: 14px; border-bottom: 1px solid #eee; padding-bottom: 10px; }
        .cart-total { font-size: 20px; font-weight: 700; border-top: 2px solid var(--gray); padding-top: 20px; }

        @media (max-width: 768px) {
            .hero-section { grid-template-columns: 1fr; }
            header { flex-wrap: wrap; }
            .search-input { order: 3; width: 100%; margin: 15px 0 0; }
        }
    </style>
</head>
<body>

<header>
    <div class="logo" onclick="location.reload()">Lucs Store</div>
    <input type="text" id="search" class="search-input" placeholder="–Ø —à—É–∫–∞—é..." oninput="filter()">
    <div class="nav-right">
        <div class="cart-icon" onclick="toggleCart()">üõí <span class="cart-count" id="count">0</span></div>
    </div>
</header>

<div class="filters-bar">
    <div>
        –¶—ñ–Ω–∞ –¥–æ: <input type="range" id="price-range" min="0" max="10000" value="10000" oninput="updatePrice(this.value)">
        <span id="price-label">10000</span> –≥—Ä–Ω
    </div>
    <button onclick="resetFilters()" style="background:none; border:1px solid #ccc; border-radius:20px; padding:5px 15px; cursor:pointer;">–°–∫–∏–Ω—É—Ç–∏</button>
</div>

<div class="hero-section">
    <div class="hero-card" onclick="setCat('–ß–æ–ª–æ–≤—ñ–∫–∞–º')">
        <img src="https://manik.net.ua/content/images/21/320x480l95nn0/37095690280132.jpg">
        <div class="hero-label"><h2>–ß–æ–ª–æ–≤—ñ–∫–∞–º</h2></div>
    </div>
    <div class="hero-card" onclick="setCat('–ñ—ñ–Ω–∫–∞–º')">
        <img src="https://images.unsplash.com/photo-1515886657613-9f3515b0c78f?auto=format&fit=crop&w=1200">
        <div class="hero-label"><h2>–ñ—ñ–Ω–∫–∞–º</h2></div>
    </div>
</div>

<div class="container" id="shop">
    <h2 style="text-align:center; margin-bottom:50px; letter-spacing:3px;">–ö–û–õ–ï–ö–¶–Ü–Ø 2026</h2>
    <div class="shop-grid" id="grid"></div>
</div>

<div id="cart-drawer">
    <div class="cart-header">
        <h3>–í–∞—à –∫–æ—à–∏–∫</h3>
        <span style="cursor:pointer; font-size:24px" onclick="toggleCart()">‚úï</span>
    </div>
    <div id="cart-items"></div>
    <div class="cart-total">–†–∞–∑–æ–º: <span id="total-sum">0</span> –≥—Ä–Ω</div>
    <button class="btn-add" style="margin-top:20px" onclick="alert('–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–∏–π–Ω—è—Ç–æ!')">–û—Ñ–æ—Ä–º–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</button>
</div>

<script>
    const API = "https://script.google.com/macros/s/AKfycbxlDxFNIY5sMLN_M-18P92u5eKCTa2pjn-Nj0Ddj1Sa-95yA5sYyljuR7rShT1R97Cy/exec";
    let allProducts = [];
    let cart = [];
    let currentCat = null;

    async function load() {
        const res = await fetch(API);
        allProducts = await res.json();
        render(allProducts);
    }

    function render(data) {
        const grid = document.getElementById('grid');
        grid.innerHTML = data.map(p => `
            <div class="product-card">
                <div class="img-box"><img src="${p['–§–æ—Ç–æ URL']}"></div>
                <div class="p-cat">${p.–ö–∞—Ç–µ–≥–æ—Ä—ñ—è} | ${p.–ü—ñ–¥–∫–∞—Ç–µ–≥–æ—Ä—ñ—è || ''}</div>
                <h3 class="p-title">${p.–ù–∞–∑–≤–∞}</h3>
                <p class="p-desc">${p.–û–ø–∏—Å || '–û–ø–∏—Å —Å–∫–æ—Ä–æ –∑\'—è–≤–∏—Ç—å—Å—è'}</p>
                <div class="p-sizes">–†–æ–∑–º—ñ—Ä–∏: ${p.–†–æ–∑–º—ñ—Ä–∏ || '–£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∏–π'}</div>
                <div class="p-price">${p.–¶—ñ–Ω–∞} –≥—Ä–Ω</div>
                <button class="btn-add" onclick="addToCart('${p.–ù–∞–∑–≤–∞}', ${p.–¶—ñ–Ω–∞})">–î–æ–¥–∞—Ç–∏ —É –∫–æ—à–∏–∫</button>
            </div>
        `).join('');
    }

    function addToCart(name, price) {
        cart.push({name, price});
        updateCartUI();
        // –ê–Ω—ñ–º–∞—Ü—ñ—è –∫–æ—à–∏–∫–∞
        document.getElementById('count').style.transform = "scale(1.5)";
        setTimeout(() => document.getElementById('count').style.transform = "scale(1)", 200);
    }

    function updateCartUI() {
        document.getElementById('count').innerText = cart.length;
        const list = document.getElementById('cart-items');
        list.innerHTML = cart.map((item, index) => `
            <div class="cart-item">
                <span>${item.name}</span>
                <b>${item.price} –≥—Ä–Ω <span onclick="removeFromCart(${index})" style="color:red; cursor:pointer; margin-left:10px">‚úï</span></b>
            </div>
        `).join('');
        
        const total = cart.reduce((sum, item) => sum + item.price, 0);
        document.getElementById('total-sum').innerText = total;
    }

    function removeFromCart(index) {
        cart.splice(index, 1);
        updateCartUI();
    }

    function toggleCart() {
        document.getElementById('cart-drawer').classList.toggle('active');
    }

    function updatePrice(v) {
        document.getElementById('price-label').innerText = v;
        filter();
    }

    function setCat(c) {
        currentCat = c;
        filter();
        document.getElementById('shop').scrollIntoView({behavior: 'smooth'});
    }

    function filter() {
        const query = document.getElementById('search').value.toLowerCase();
        const maxP = parseInt(document.getElementById('price-range').value);

        const filtered = allProducts.filter(p => {
            return p.–ù–∞–∑–≤–∞.toLowerCase().includes(query) && 
                   (currentCat ? p.–ö–∞—Ç–µ–≥–æ—Ä—ñ—è === currentCat : true) &&
                   p.–¶—ñ–Ω–∞ <= maxP;
        });
        render(filtered);
    }

    function resetFilters() {
        currentCat = null;
        document.getElementById('search').value = '';
        document.getElementById('price-range').value = 10000;
        document.getElementById('price-label').innerText = 10000;
        render(allProducts);
    }

    load();
</script>

</body>
</html>





