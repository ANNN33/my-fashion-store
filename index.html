<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lucs Store | UA</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        :root { --black: #1a1a1a; --gray: #f8f8f8; --dark-gray: #666; }
        body { font-family: 'Inter', sans-serif; margin: 0; background: #fff; color: var(--black); overflow-x: hidden; }
        
        /* HEADER */
        header { 
            display: flex; justify-content: space-between; align-items: center; 
            padding: 15px 5%; border-bottom: 1px solid #eee; 
            position: sticky; top: 0; background: #fff; z-index: 1000;
        }
        .logo { font-size: 22px; font-weight: 700; letter-spacing: 3px; cursor: pointer; }
        .search-input { flex-grow: 1; max-width: 300px; margin: 0 20px; padding: 10px 15px; border: 1px solid #ddd; border-radius: 20px; outline: none; }

        /* HERO SECTION (–¢–í–û–á –†–û–ó–î–Ü–õ–ò) */
        .hero-section { display: grid; grid-template-columns: 1fr 1fr; gap: 5px; height: 70vh; }
        .hero-card { position: relative; overflow: hidden; cursor: pointer; }
        .hero-card img { width: 100%; height: 100%; object-fit: cover; transition: 0.8s; }
        .hero-card:hover img { transform: scale(1.03); }
        .hero-label { position: absolute; top: 40px; left: 40px; }
        .hero-label h2 { font-size: 30px; margin-bottom: 15px; text-transform: uppercase; }
        .btn-black { background: var(--black); color: white; border: none; padding: 12px 24px; font-size: 12px; font-weight: 600; cursor: pointer; text-transform: uppercase; }

        /* SHOP GRID */
        .container { padding: 60px 5%; }
        .shop-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 40px 20px; }
        .product-card { cursor: pointer; text-align: left; }
        .img-box { background: var(--gray); aspect-ratio: 3/4; overflow: hidden; margin-bottom: 15px; border-radius: 4px; }
        .img-box img { width: 100%; height: 100%; object-fit: cover; }
        .product-price { font-weight: 700; font-size: 18px; margin-top: 5px; }

        /* MODAL (–í–Ü–ö–ù–û –¢–û–í–ê–†–£) */
        .modal-overlay { 
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: rgba(0,0,0,0.8); display: none; justify-content: center; align-items: center; z-index: 3000; 
        }
        .modal-content { 
            background: white; width: 90%; max-width: 900px; max-height: 90vh; 
            border-radius: 8px; display: grid; grid-template-columns: 1fr 1fr; overflow: hidden; position: relative;
        }
        .modal-close { position: absolute; top: 20px; right: 20px; font-size: 24px; cursor: pointer; z-index: 10; }
        .modal-info { padding: 40px; overflow-y: auto; display: flex; flex-direction: column; }
        .size-btn { border: 1px solid #ddd; padding: 10px 15px; margin: 5px 5px 5px 0; cursor: pointer; background: white; transition: 0.2s; }
        .size-btn.active { background: black; color: white; border-color: black; }

        /* CART DRAWER */
        #cart-drawer { 
            position: fixed; right: -450px; top: 0; width: 400px; height: 100%; 
            background: white; box-shadow: -10px 0 20px rgba(0,0,0,0.1); z-index: 2000; transition: 0.4s; padding: 30px; box-sizing: border-box; display: flex; flex-direction: column;
        }
        #cart-drawer.active { right: 0; }
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; font-size: 13px; margin-bottom: 5px; font-weight: 600; }
        .form-group input, .form-group select { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box; }

        @media (max-width: 768px) { 
            .hero-section { grid-template-columns: 1fr; height: auto; } 
            .hero-card { height: 50vh; }
            .modal-content { grid-template-columns: 1fr; }
            #cart-drawer { width: 100%; }
        }
    </style>
</head>
<body>

<header>
    <div class="logo" onclick="location.reload()">Lucs Store</div>
    <input type="text" id="search-input" class="search-input" placeholder="–ü–æ—à—É–∫ —Ç–æ–≤–∞—Ä—É..." oninput="filterProducts()">
    <div class="nav-right">
        <div style="cursor:pointer; position:relative;" onclick="toggleCart()">
            üõí <span id="cart-count" style="position:absolute; top:-8px; right:-10px; background:black; color:white; font-size:10px; padding:2px 6px; border-radius:50%;">0</span>
        </div>
    </div>
</header>

<div class="hero-section">
    <div class="hero-card" onclick="setCategory('–ß–æ–ª–æ–≤—ñ–∫–∞–º')">
        <img src="https://images.prom.ua/6283339360_w640_h640_korichnevyj-sportivnyj-kostyum.jpg">
        <div class="hero-label">
            <h2>–ß–æ–ª–æ–≤—ñ–∫–∞–º</h2>
            <button class="btn-black">–î–∏–≤–∏—Ç–∏—Å—å</button>
        </div>
    </div>
    <div class="hero-card" onclick="setCategory('–ñ—ñ–Ω–∫–∞–º')">
        <img src="https://images.unsplash.com/photo-1515886657613-9f3515b0c78f?auto=format&fit=crop&w=800">
        <div class="hero-label">
            <h2>–ñ—ñ–Ω–∫–∞–º</h2>
            <button class="btn-black">–î–∏–≤–∏—Ç–∏—Å—å</button>
        </div>
    </div>
</div>

<div class="container" id="shop">
    <h2 id="main-title" style="text-align:center; margin-bottom:40px; text-transform:uppercase;">–ù–æ–≤–∞ –∫–æ–ª–µ–∫—Ü—ñ—è</h2>
    <div class="shop-grid" id="grid"></div>
</div>

<div class="modal-overlay" id="modal">
    <div class="modal-content">
        <span class="modal-close" onclick="closeModal()">‚úï</span>
        <div style="background: var(--gray);"><img id="modal-img" src="" style="width:100%; height:100%; object-fit:cover;"></div>
        <div class="modal-info">
            <h2 id="modal-title"></h2>
            <p id="modal-desc" style="color:var(--dark-gray); margin-bottom:20px;"></p>
            <p style="font-size:20px; font-weight:700;">–¶—ñ–Ω–∞: <span id="modal-price"></span> –≥—Ä–Ω</p>
            <div style="margin: 20px 0;">
                <p><b>–í–∏–±–µ—Ä—ñ—Ç—å —Ä–æ–∑–º—ñ—Ä:</b></p>
                <div id="modal-sizes"></div>
            </div>
            <button class="btn-black" style="width:100%; padding:15px;" onclick="addToCart()">–î–æ–¥–∞—Ç–∏ —É –∫–æ—à–∏–∫</button>
        </div>
    </div>
</div>

<div id="cart-drawer">
    <h3>–ö–æ—à–∏–∫</h3>
    <div id="cart-items" style="flex-grow:1; overflow-y:auto; margin-bottom:20px;"></div>
    
    <div class="form-group">
        <label>–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É</label>
        <input type="tel" id="user-phone" placeholder="+380...">
    </div>
    <div class="form-group">
        <label>–°–ø–æ—Å—ñ–± –¥–æ—Å—Ç–∞–≤–∫–∏</label>
        <select id="user-delivery">
            <option value="–ù–æ–≤–∞ –ü–æ—à—Ç–∞">–ù–æ–≤–∞ –ü–æ—à—Ç–∞</option>
            <option value="–£–∫—Ä–ø–æ—à—Ç–∞">–£–∫—Ä–ø–æ—à—Ç–∞</option>
            <option value="–°–∞–º–æ–≤–∏–≤—ñ–∑">–°–∞–º–æ–≤–∏–≤—ñ–∑</option>
        </select>
    </div>
    
    <div style="font-size:18px; font-weight:700; margin-bottom:15px;">–†–∞–∑–æ–º: <span id="total-sum">0</span> –≥—Ä–Ω</div>
    <button class="btn-black" style="width:100%; padding:15px;" onclick="checkout()">–û—Ñ–æ—Ä–º–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</button>
</div>

<script>
    const API = "https://script.google.com/macros/s/AKfycbxlDxFNIY5sMLN_M-18P92u5eKCTa2pjn-Nj0Ddj1Sa-95yA5sYyljuR7rShT1R97Cy/exec";
    let products = [], cart = [], currentProduct = null, selectedSize = null, currentCat = null;

    async function load() {
        const res = await fetch(API);
        products = await res.json();
        render(products);
    }

    function render(data) {
        document.getElementById('grid').innerHTML = data.map(p => `
            <div class="product-card" onclick="openModal('${p.–ù–∞–∑–≤–∞}')">
                <div class="img-box"><img src="${p['–§–æ—Ç–æ URL']}"></div>
                <h3>${p.–ù–∞–∑–≤–∞}</h3>
                <div class="product-price">${p.–¶—ñ–Ω–∞} –≥—Ä–Ω</div>
            </div>
        `).join('');
    }

    function openModal(name) {
        currentProduct = products.find(p => p.–ù–∞–∑–≤–∞ === name);
        document.getElementById('modal-title').innerText = currentProduct.–ù–∞–∑–≤–∞;
        document.getElementById('modal-desc').innerText = currentProduct.–û–ø–∏—Å || "–û–ø–∏—Å —Ç–æ–≤–∞—Ä—É –Ω–µ–∑–∞–±–∞—Ä–æ–º.";
        document.getElementById('modal-price').innerText = currentProduct.–¶—ñ–Ω–∞;
        document.getElementById('modal-img').src = currentProduct['–§–æ—Ç–æ URL'];
        
        const sizes = currentProduct.–†–æ–∑–º—ñ—Ä–∏ ? currentProduct.–†–æ–∑–º—ñ—Ä–∏.split(',') : [];
        document.getElementById('modal-sizes').innerHTML = sizes.map(s => `<button class="size-btn" onclick="selectSize(this, '${s.trim()}')">${s.trim()}</button>`).join('');
        selectedSize = null;
        document.getElementById('modal').style.display = 'flex';
    }

    function closeModal() { document.getElementById('modal').style.display = 'none'; }
    function selectSize(btn, s) { 
        document.querySelectorAll('.size-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active'); selectedSize = s; 
    }

    function addToCart() {
        if (!selectedSize && currentProduct.–†–æ–∑–º—ñ—Ä–∏) return alert("–í–∏–±–µ—Ä—ñ—Ç—å —Ä–æ–∑–º—ñ—Ä!");
        cart.push({...currentProduct, size: selectedSize});
        updateCart(); closeModal(); toggleCart(true);
    }

    function updateCart() {
        document.getElementById('cart-count').innerText = cart.length;
        document.getElementById('cart-items').innerHTML = cart.map((item, i) => `
            <div style="display:flex; justify-content:space-between; margin-bottom:10px; border-bottom:1px solid #eee; padding-bottom:5px;">
                <div><b>${item.–ù–∞–∑–≤–∞}</b><br><small>–†–æ–∑–º—ñ—Ä: ${item.size || '-'}</small></div>
                <div>${item.–¶—ñ–Ω–∞} –≥—Ä–Ω <span onclick="remove(${i})" style="color:red; cursor:pointer; margin-left:10px;">‚úï</span></div>
            </div>
        `).join('');
        document.getElementById('total-sum').innerText = cart.reduce((s, i) => s + i.–¶—ñ–Ω–∞, 0);
    }

    function remove(i) { cart.splice(i, 1); updateCart(); }
    function toggleCart(show) { document.getElementById('cart-drawer').classList.toggle('active', show); }

    function setCategory(cat) {
        currentCat = cat;
        const filtered = products.filter(p => p.–ö–∞—Ç–µ–≥–æ—Ä—ñ—è.toLowerCase() === cat.toLowerCase());
        render(filtered);
        document.getElementById('shop').scrollIntoView({behavior: 'smooth'});
    }

    function filterProducts() {
        const query = document.getElementById('search-input').value.toLowerCase();
        const filtered = products.filter(p => p.–ù–∞–∑–≤–∞.toLowerCase().includes(query));
        render(filtered);
    }

    function checkout() {
        const phone = document.getElementById('user-phone').value;
        if (!phone || cart.length === 0) return alert("–ó–∞–ø–æ–≤–Ω—ñ—Ç—å –Ω–æ–º–µ—Ä —Ç–∞ –¥–æ–¥–∞–π—Ç–µ —Ç–æ–≤–∞—Ä–∏!");
        alert("–î—è–∫—É—î–º–æ! –í–∞—à–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–∏–π–Ω—è—Ç–æ. –ú–∏ –∑–≤'—è–∂–µ–º–æ—Å—è –∑ –≤–∞–º–∏.");
        cart = []; updateCart(); toggleCart(false);
    }

    load();
</script>
</body>
</html>


